import{d as $,G as c,p as B,B as ee,A as Re,I as Te,J as De,K as Ce,L as Fe,M as ke,O as ne,P as Pe,Q as de,R as Oe,S as Ae,T as $e,U as I,V as Ue,W as _e,z as Ee,X as Le,Y as te,Z as re,$ as ie,a0 as le,a1 as ae,a2 as S,a3 as He}from"./index-df9da9f7.js";import{u as je}from"./use-locale-25730486.js";import{i as ze,N as Ge}from"./Input-0cabf2af.js";const Ke=$({name:"Add",render(){return c("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),We=$({name:"Remove",render(){return c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},c("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),Xe={duration:{type:Number,default:0},active:{type:Boolean,default:!0},precision:{type:Number,default:0},render:Function,onFinish:Function},an=$({name:"Countdown",props:Xe,setup(e){let i=null,f=0,m=!1;const o=B(0);ee(()=>{o.value=e.duration});let l=-1;function V(s){return e.duration-f+l-s}function U(s){const b=Math.floor(s/36e5),a=Math.floor(s%36e5/6e4),d=Math.floor(s%6e4/1e3),x=Math.floor(s%1e3);return{hours:b,minutes:a,seconds:d,milliseconds:x}}function _(s){const{hours:b,minutes:a,seconds:d,milliseconds:x}=s,{precision:y}=e;switch(y){case 0:return`${String(b).padStart(2,"0")}:${String(a).padStart(2,"0")}:${String(d).padStart(2,"0")}`;default:return`${String(b).padStart(2,"0")}:${String(a).padStart(2,"0")}:${String(d).padStart(2,"0")}.${String(Math.floor(x/(y===1?100:y===2?10:1))).padStart(y,"0")}`}}const R=()=>{var s;const{precision:b}=e,a=V(performance.now());if(a<=0){o.value=0,h(),m||(m=!0,(s=e.onFinish)===null||s===void 0||s.call(e));return}let d;switch(b){case 3:case 2:d=a%34;break;case 1:d=a%100;break;default:d=a%1e3}o.value=a,i=window.setTimeout(()=>{R()},d)},h=()=>{i!==null&&(window.clearTimeout(i),i=null)};Re(()=>{ee(()=>{if(e.active)l=performance.now(),R();else{const s=performance.now();l!==-1&&(f+=s-l),h()}})}),Te(()=>{h()});function k(){o.value=e.duration,f=0,l=performance.now(),e.active&&m&&R(),m=!1}return Object.assign({reset:k},{distance:o,getTimeInfo:U,getDisplayValue:_})},render(){const{render:e,precision:i,distance:f,getTimeInfo:m,getDisplayValue:o}=this;let l;switch(i){case 0:l=m(f+999),l.milliseconds=0;break;case 1:l=m(f+99),l.milliseconds=Math.floor(l.milliseconds/100)*100;break;case 2:l=m(f+9),l.milliseconds=Math.floor(l.milliseconds/10)*10;break;case 3:l=m(f)}return e?e(l):o(l)}}),Je=e=>{const{textColorDisabled:i}=e;return{iconColorDisabled:i}},Qe=De({name:"InputNumber",common:Ce,peers:{Button:Fe,Input:ze},self:Je}),Ye=Qe;function Ze(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function qe(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^\.\d+$/.test(e))}function J(e){return e==null?!0:!Number.isNaN(e)}function ue(e,i){return e==null?"":i===void 0?String(e):e.toFixed(i)}function Q(e){if(e===null)return null;if(typeof e=="number")return e;{const i=Number(e);return Number.isNaN(i)?null:i}}const en=ke([ne("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),ne("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]),oe=800,se=100,nn=Object.assign(Object.assign({},de.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),un=$({name:"InputNumber",props:nn,setup(e){const{mergedBorderedRef:i,mergedClsPrefixRef:f,mergedRtlRef:m}=Pe(e),o=de("InputNumber","-input-number",en,Ye,e,f),{localeRef:l}=je("InputNumber"),V=Oe(e),{mergedSizeRef:U,mergedDisabledRef:_,mergedStatusRef:R}=V,h=B(null),k=B(null),E=B(null),s=B(e.defaultValue),b=Ae(e,"value"),a=$e(b,s),d=B(""),x=n=>{const t=String(n).split(".")[1];return t?t.length:0},y=n=>{const t=[e.min,e.max,e.step,n].map(r=>r===void 0?0:x(r));return Math.max(...t)},fe=I(()=>{const{placeholder:n}=e;return n!==void 0?n:l.value.placeholder}),P=I(()=>{const n=Q(e.step);return n!==null?n===0?1:Math.abs(n):1}),Y=I(()=>{const n=Q(e.min);return n!==null?n:null}),Z=I(()=>{const n=Q(e.max);return n!==null?n:null}),T=n=>{const{value:t}=a;if(n===t){M();return}const{"onUpdate:value":r,onUpdateValue:u,onChange:v}=e,{nTriggerFormInput:p,nTriggerFormChange:N}=V;v&&S(v,n),u&&S(u,n),r&&S(r,n),s.value=n,p(),N()},g=({offset:n,doUpdateIfValid:t,fixPrecision:r,isInputing:u})=>{const{value:v}=d;if(u&&qe(v))return!1;const p=(e.parse||Ze)(v);if(p===null)return t&&T(null),null;if(J(p)){const N=x(p),{precision:F}=e;if(F!==void 0&&F<N&&!r)return!1;let w=parseFloat((p+n).toFixed(F??y(p)));if(J(w)){const{value:W}=Z,{value:X}=Y;if(W!==null&&w>W){if(!t||u)return!1;w=W}if(X!==null&&w<X){if(!t||u)return!1;w=X}return e.validator&&!e.validator(w)?!1:(t&&T(w),w)}}return!1},M=()=>{const{value:n}=a;if(J(n)){const{format:t,precision:r}=e;t?d.value=t(n):n===null||r===void 0||x(n)>r?d.value=ue(n,void 0):d.value=ue(n,r)}else d.value=String(n)};M();const ce=I(()=>g({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),L=I(()=>{const{value:n}=a;if(e.validator&&n===null)return!1;const{value:t}=P;return g({offset:-t,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),H=I(()=>{const{value:n}=a;if(e.validator&&n===null)return!1;const{value:t}=P;return g({offset:+t,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function me(n){const{onFocus:t}=e,{nTriggerFormFocus:r}=V;t&&S(t,n),r()}function he(n){var t,r;if(n.target===((t=h.value)===null||t===void 0?void 0:t.wrapperElRef))return;const u=g({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(u!==!1){const N=(r=h.value)===null||r===void 0?void 0:r.inputElRef;N&&(N.value=String(u||"")),a.value===u&&M()}else M();const{onBlur:v}=e,{nTriggerFormBlur:p}=V;v&&S(v,n),p(),He(()=>{M()})}function ge(n){const{onClear:t}=e;t&&S(t,n)}function j(){const{value:n}=H;if(!n){K();return}const{value:t}=a;if(t===null)e.validator||T(q());else{const{value:r}=P;g({offset:r,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function z(){const{value:n}=L;if(!n){G();return}const{value:t}=a;if(t===null)e.validator||T(q());else{const{value:r}=P;g({offset:-r,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const ve=me,pe=he;function q(){if(e.validator)return null;const{value:n}=Y,{value:t}=Z;return n!==null?Math.max(0,n):t!==null?Math.min(0,t):0}function be(n){ge(n),T(null)}function we(n){var t,r,u;!((t=E.value)===null||t===void 0)&&t.$el.contains(n.target)&&n.preventDefault(),!((r=k.value)===null||r===void 0)&&r.$el.contains(n.target)&&n.preventDefault(),(u=h.value)===null||u===void 0||u.activate()}let D=null,C=null,O=null;function G(){O&&(window.clearTimeout(O),O=null),D&&(window.clearInterval(D),D=null)}function K(){A&&(window.clearTimeout(A),A=null),C&&(window.clearInterval(C),C=null)}function xe(){G(),O=window.setTimeout(()=>{D=window.setInterval(()=>{z()},se)},oe),re("mouseup",document,G,{once:!0})}let A=null;function Ie(){K(),A=window.setTimeout(()=>{C=window.setInterval(()=>{j()},se)},oe),re("mouseup",document,K,{once:!0})}const Ve=()=>{C||j()},ye=()=>{D||z()};function Me(n){var t,r;if(n.key==="Enter"){if(n.target===((t=h.value)===null||t===void 0?void 0:t.wrapperElRef))return;g({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((r=h.value)===null||r===void 0||r.deactivate())}else if(n.key==="ArrowUp"){if(!H.value||e.keyboard.ArrowUp===!1)return;n.preventDefault(),g({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&j()}else if(n.key==="ArrowDown"){if(!L.value||e.keyboard.ArrowDown===!1)return;n.preventDefault(),g({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&z()}}function Ne(n){d.value=n,e.updateValueOnInput&&!e.format&&!e.parse&&e.precision===void 0&&g({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}Ue(a,()=>{M()});const Se={focus:()=>{var n;return(n=h.value)===null||n===void 0?void 0:n.focus()},blur:()=>{var n;return(n=h.value)===null||n===void 0?void 0:n.blur()}},Be=_e("InputNumber",m,f);return Object.assign(Object.assign({},Se),{rtlEnabled:Be,inputInstRef:h,minusButtonInstRef:k,addButtonInstRef:E,mergedClsPrefix:f,mergedBordered:i,uncontrolledValue:s,mergedValue:a,mergedPlaceholder:fe,displayedValueInvalid:ce,mergedSize:U,mergedDisabled:_,displayedValue:d,addable:H,minusable:L,mergedStatus:R,handleFocus:ve,handleBlur:pe,handleClear:be,handleMouseDown:we,handleAddClick:Ve,handleMinusClick:ye,handleAddMousedown:Ie,handleMinusMousedown:xe,handleKeyDown:Me,handleUpdateDisplayedValue:Ne,mergedTheme:o,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:Ee(()=>{const{self:{iconColorDisabled:n}}=o.value,[t,r,u,v]=Le(n);return{textColorTextDisabled:`rgb(${t}, ${r}, ${u})`,opacityDisabled:`${v}`}})})},render(){const{mergedClsPrefix:e,$slots:i}=this,f=()=>c(ae,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>ie(i["minus-icon"],()=>[c(le,{clsPrefix:e},{default:()=>c(We,null)})])}),m=()=>c(ae,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>ie(i["add-icon"],()=>[c(le,{clsPrefix:e},{default:()=>c(Ke,null)})])});return c("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},c(Ge,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,internalLoadingBeforeSuffix:!0},{prefix:()=>{var o;return this.showButton&&this.buttonPlacement==="both"?[f(),te(i.prefix,l=>l?c("span",{class:`${e}-input-number-prefix`},l):null)]:(o=i.prefix)===null||o===void 0?void 0:o.call(i)},suffix:()=>{var o;return this.showButton?[te(i.suffix,l=>l?c("span",{class:`${e}-input-number-suffix`},l):null),this.buttonPlacement==="right"?f():null,m()]:(o=i.suffix)===null||o===void 0?void 0:o.call(i)}}))}});export{un as N,an as a};
